# CALM

This version of CALM is a special distribution to follow the paper submitted to NMR-2018.  This version works natively on windows systems.  

## DOWNLOAD:
Download CALM folder contents to a local folder. 

## USAGE:
Open Command Prompt from the Windows system. 
Change directory to the local folder holding CALM contents. 
CALM can be used 

`java -jar calm.jar <file>`
  
where `<file>` can be a ALM system description or a specification of a temporal projection or planning problem. 

For example, to solve a temporal project specified in `./examples/basicMotion.tp`

`java -jar calm.jar ./examples/basicMotion.tp`

## OUTPUT: 
If there are any syntax, semantic or type checking errors, the errors are displayed on "stderr" to the console. 
If there are no errors, the translated SPARC program is created and its answerset is generated in the following locations:

`./output/<file-name>/<file-name>.ans`
  
`./output/<file-name>/<file-name>.sparc`

For the example usage: 

`./output/basicMotion.tp/basicMotion.tp.ans`

`./output/basicMotion.tp/basicMotion.tp.sparc`   

are created.

## ONLINE-SPARC:
If you would like to experiment with the generated SPARC programs, you can copy their contents and paste them into the left hand window of the online sparc solver located: 

http://wave.ttu.edu/test-YL/updated-ide/

1) Paste the generated SPARC program on the left.
2) Click "Get Answer Sets" on the top right. 

## For Non-Windows Platforms

If you would like to run this CALM distribution on non-windows platforms follow the steps:
1) Download the CALM folder contents to a local folder
2) Install Clingo (see below)
3) Install SPARC (see below). 

#### Install Clingo: 
1) Delete the contents of the "clingo" sub-folder to the CALM folder.
2) Go to: https://sourceforge.net/projects/potassco/files/clingo/4.5.4/
3) Pick the distribution for your operating system. 
4) Unpack the contents to the "clingo" sub folder of the CALM folder. 
5) Ensure that the clingo executable is called "clingo" or "clingo.exe" as required by your operating system. 
6) Verify in the "CALM/clingo" folder that "clingo" executes from the commandline. 

#### Install SPARC:   (If sparc.jar is not working properly.)
1) Create a "sparc" sub folder if it does not already exist. 
2) Download the "sparc.jar" from https://github.com/iensen/sparc/raw/master/sparc.jar to the folder. 
3) Verify that "java -jar sparc.jar" executes from the commandline in the calm folder. 

## NOTES

#### Planning Problems and Current Time
The time step corresponding to the "current time" is 1 + the maximum time step used in the history.  
The actions generated by the planning problem module occur on or after the "current time" time step.   
